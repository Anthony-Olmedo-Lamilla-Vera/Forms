(this.webpackJsonpsistema=this.webpackJsonpsistema||[]).push([[0],{34:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),a=s(27),c=s.n(a),o=(s(34),s(2)),i=s(4),l=s(1),j=Object(n.createContext)();function u(e){var t=e.children,s=Object(n.useState)([]),r=Object(i.a)(s,2),a=r[0],c=r[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),b=u[0],d=u[1],O=Object(n.useState)(""),h=Object(i.a)(O,2),m=h[0],x=h[1];return Object(l.jsx)(j.Provider,{value:{Token:m,setToken:x,User:b,setUser:d,DatesUser:a,setDatesUser:c},children:t})}var b=s(7);var d=function(){var e=Object(n.useContext)(j).Token;return Object(n.useEffect)((function(){}),[e]),Object(l.jsxs)("div",{className:"Nombre_Home",children:[Object(l.jsx)("h2",{children:"Hola Bienvenido,"}),e?Object(l.jsx)("p",{children:e.Nombre}):Object(l.jsx)("div",{className:"MsgLogin",children:Object(l.jsx)(b.b,{to:"/Register",children:"Porfavor Create un Usuario"})})]})},O=s(11),h=s.n(O),m=s(13);var x=function(e){return Object(l.jsxs)("div",{class:"mb-3",children:[Object(l.jsx)("label",{for:e.classCorreo,class:"form-label",children:e.nombre}),Object(l.jsx)("input",{for:e.for,required:!0,type:e.type,className:"form-control",id:e.id,"aria-describedby":"emailHelp",value:e.value,onChange:e.onchange,onKeyUp:e.onchange})]})},p=s(14),v=s.n(p),f="http://localhost:8800/api/v1/";var g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),s=t[0],r=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),u=c[0],d=c[1],O=Object(n.useState)(!1),p=Object(i.a)(O,2),g=p[0],U=p[1],C=Object(o.f)(),N=Object(n.useContext)(j),w=(N.DatesUser,N.setUser),S=N.setDatesUser;function y(){return(y=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=[],e.next=4,v.a.post(f+"Login",{Correo:u,"Contrase\xf1a":s}).then((function(e){U(!0),w(!0),n.push(e.data),S(n),window.localStorage.setItem("User",JSON.stringify(n[0])),console.log("Logeo Correcto "),C.push("/"),window.location.reload("/")})).catch((function(e){console.log(e),w(!1)}));case 4:console.log(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("h3",{children:"Login de Usuario"}),Object(l.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},children:[Object(l.jsx)(x,{value:u,onchange:function(e){return d(e.target.value)},nombre:"Correo Electronico",type:"email",id:"exampleInputEmail1",classCorreo:"exampleInputEmail1"}),Object(l.jsx)(x,{value:s,onchange:function(e){return r(e.target.value)},nombre:"Contrase\xf1a",type:"password",id:"exampleInputPassword1",classCorreo:"exampleInputPassword1"}),Object(l.jsx)("button",{type:"submit",class:"btn btn-primary center",children:"Login"})]}),g?Object(l.jsx)("p",{children:"Logeado Correctamente "}):Object(l.jsxs)("div",{className:"MsgLogin",children:[Object(l.jsx)("p",{className:"errorlog",children:"Si no Tienes una cuenta Registrate "}),Object(l.jsx)(b.b,{to:"/Register",children:" Registrarse "})]})]})};var U=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),s=t[0],r=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),u=c[0],b=c[1],d=Object(n.useState)(""),O=Object(i.a)(d,2),p=O[0],g=O[1],U=Object(n.useState)(!1),C=Object(i.a)(U,2),N=C[0],w=C[1],S=Object(n.useState)(!1),y=Object(i.a)(S,2),k=y[0],D=y[1],I=Object(n.useState)(!1),E=Object(i.a)(I,2),R=E[0],T=E[1],L=Object(n.useContext)(j),P=(L.DatesUser,L.User,L.setUser),J=(L.setDatesUser,Object(o.f)());function H(){return(H=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T(!0),n=[],e.next=5,v.a.post(f+"Register",{Nombre:s,Correo:u,"Contrase\xf1a":p}).then((function(e){w(!1),P(!0),g(""),b(""),r(""),D(!0),n.push(e.data),window.localStorage.setItem("User",JSON.stringify(n[0])),J.push("/"),window.location.reload("/")})).catch((function(e){P(!1),D(!1),w(!0),console.log(N)}));case 5:T(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Registro de Usuario"}),Object(l.jsxs)("form",{onSubmit:function(e){return H.apply(this,arguments)},children:[Object(l.jsx)(x,{for:"validationCustomUsername",onchange:function(e){return r(e.target.value)},nombre:"UserName",type:"text",value:s,id:"validationCustomUsername",classCorreo:"validationCustomUsername"}),Object(l.jsx)(x,{value:u,onchange:function(e){return b(e.target.value)},nombre:"Correo Electronico",type:"email",id:"exampleInputEmail1",classCorreo:"exampleInputEmail1"}),Object(l.jsx)(x,{value:p,onchange:function(e){return g(e.target.value)},nombre:"Contrase\xf1a",type:"password",id:"exampleInputPassword1",classCorreo:"exampleInputPassword1"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Registrarse"})]}),R?Object(l.jsx)("div",{className:"spinner",children:Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("div",{className:"spinner-border",role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):"",k?Object(l.jsx)("h4",{children:"Registrado Correctamente "}):"",N?Object(l.jsx)("h4",{children:"Errrorrr "}):""]})};var C=function(){var e=Object(n.useContext)(j);return e.DatesUser,e.User,e.Token,e.setToken,e.setUser,e.setDatesUser,Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(d,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/login",children:Object(l.jsx)(g,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/Register",children:Object(l.jsx)(U,{})})]})};var N=function(){var e=Object(n.useContext)(j),t=(e.DatesUser,e.User,e.Token),s=e.setToken,r=(e.setUser,e.setDatesUser,Object(o.f)());return Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("User"));s(e)}),[]),Object(l.jsx)("header",{className:"App-header",children:Object(l.jsxs)("ul",{className:"nav nav-pills nav-fill",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.b,{to:"/",className:"nav-link ","aria-current":"page",children:"Home"})}),null===t&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.b,{to:"/register",className:"nav-link",children:"Register"})})]}),null!=t?Object(l.jsx)("button",{type:"button",onClick:function(){window.localStorage.removeItem("User"),r.push("/login"),window.location.reload("/login")},className:"btn btn-outline-danger",children:"Cerrar Sesion x"}):""]})})};var w=function(){var e=Object(n.useContext)(j),t=(e.DatesUser,e.User,e.Token);return e.setToken,e.setUser,e.setDatesUser,Object(n.useEffect)((function(){}),[t]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(N,{}),Object(l.jsx)(C,{})]})};var S=function(){return Object(l.jsx)(b.a,{children:Object(l.jsx)(u,{value:!0,children:Object(l.jsx)(w,{})})})};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.c0406d4b.chunk.js.map