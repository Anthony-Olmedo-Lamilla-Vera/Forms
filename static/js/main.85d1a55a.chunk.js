(this.webpackJsonpsistema=this.webpackJsonpsistema||[]).push([[0],{34:function(e,t,s){},64:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),a=s(27),c=s.n(a),o=(s(34),s(2)),i=s(4),l=s(0),j=Object(n.createContext)();function u(e){var t=e.children,s=Object(n.useState)([]),r=Object(i.a)(s,2),a=r[0],c=r[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),b=u[0],d=u[1],O=Object(n.useState)(""),m=Object(i.a)(O,2),h=m[0],x=m[1];return Object(l.jsx)(j.Provider,{value:{Token:h,setToken:x,User:b,setUser:d,DatesUser:a,setDatesUser:c},children:t})}var b=s(7),d="http://localhost:8800/api/v1/";var O=function(){var e=Object(n.useContext)(j).Token;return Object(n.useEffect)((function(){console.log(e)}),[e]),Object(l.jsxs)("div",{className:"Nombre_Home",children:[Object(l.jsx)("h2",{children:"Hola Bienvenido,"}),e?Object(l.jsx)("p",{children:e.nombre}):Object(l.jsx)("div",{className:"MsgLogin",children:Object(l.jsx)(b.b,{to:"/Forms/Register",children:"Porfavor Create un Usuario"})})]})},m=s(11),h=s.n(m),x=s(13);var p=function(e){return Object(l.jsxs)("div",{class:"mb-3",children:[Object(l.jsx)("label",{for:e.classCorreo,class:"form-label",children:e.nombre}),Object(l.jsx)("input",{for:e.for,required:!0,type:e.type,className:"form-control",id:e.id,"aria-describedby":"emailHelp",value:e.value,onChange:e.onchange,onKeyUp:e.onchange})]})},v=s(14),f=s.n(v);var g=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),s=t[0],r=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),u=c[0],O=c[1],m=Object(n.useState)(""),v=Object(i.a)(m,2),g=v[0],N=v[1],C=Object(n.useState)(!1),w=Object(i.a)(C,2),y=w[0],S=w[1],U=Object(o.f)(),k=Object(n.useContext)(j).setUser;function F(){return(F=Object(x.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),t.preventDefault(),s=[],e.next=5,f.a.post(d+"Login",{Correo:g,"Contrase\xf1a":u}).then((function(e){S(!0),r(!1),s.push(e.data),window.localStorage.setItem("User",JSON.stringify(s[0])),console.log("Logeo Correcto "),U.push("/Forms/"),window.location.reload()})).catch((function(e){console.log("eexoste im errp"),r(!1),console.log(e),k(!1)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{className:"",children:[Object(l.jsx)("h3",{children:"Login de Usuario"}),Object(l.jsxs)("form",{onSubmit:function(e){return F.apply(this,arguments)},children:[Object(l.jsx)(p,{value:g,onchange:function(e){return N(e.target.value)},nombre:"Correo Electronico",type:"email",id:"exampleInputEmail1",classCorreo:"exampleInputEmail1"}),Object(l.jsx)(p,{value:u,onchange:function(e){return O(e.target.value)},nombre:"Contrase\xf1a",type:"password",id:"exampleInputPassword1",classCorreo:"exampleInputPassword1"}),Object(l.jsx)("button",{type:"submit",class:"btn btn-primary center",children:"Login"})]}),y?"":Object(l.jsxs)("div",{className:"MsgLogin",children:[Object(l.jsx)("p",{className:"errorlog",children:"Si no Tienes una cuenta Registrate "}),Object(l.jsx)(b.b,{to:"/Forms/Register",children:" Registrarse "})]}),s?Object(l.jsx)("div",{className:"spinner",children:Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("div",{className:"spinner-border",role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):""]})};var N=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),s=t[0],r=t[1],a=Object(n.useState)(""),c=Object(i.a)(a,2),j=c[0],u=c[1],b=Object(n.useState)(""),O=Object(i.a)(b,2),m=O[0],v=O[1],g=Object(n.useState)(null),N=Object(i.a)(g,2),C=N[0],w=N[1],y=Object(n.useState)(!1),S=Object(i.a)(y,2),U=S[0],k=S[1],F=Object(n.useState)(!1),I=Object(i.a)(F,2),R=I[0],E=I[1],L=Object(o.f)();function D(){return(D=Object(x.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),n=[],e.next=5,f.a.post(d+"Register",{Nombre:s,Correo:j,"Contrase\xf1a":m}).then((function(e){E(!1),w(!1),v(""),u(""),r(""),k(!0),n.push(e.data),window.localStorage.setItem("User",JSON.stringify(n[0])),L.push("/Forms/"),window.location.reload()})).catch((function(e){console.log(C),k(!1)}));case 5:E(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Registro de Usuario"}),Object(l.jsxs)("form",{onSubmit:function(e){return D.apply(this,arguments)},children:[Object(l.jsx)(p,{for:"validationCustomUsername",onchange:function(e){return r(e.target.value)},nombre:"UserName",type:"text",value:s,id:"validationCustomUsername",classCorreo:"validationCustomUsername"}),Object(l.jsx)(p,{value:j,onchange:function(e){return u(e.target.value)},nombre:"Correo Electronico",type:"email",id:"exampleInputEmail1",classCorreo:"exampleInputEmail1"}),Object(l.jsx)(p,{value:m,onchange:function(e){return v(e.target.value)},nombre:"Contrase\xf1a",type:"password",id:"exampleInputPassword1",classCorreo:"exampleInputPassword1"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Registrarse"})]}),R?Object(l.jsx)("div",{className:"spinner",children:Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("div",{className:"spinner-border",role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):"",U?Object(l.jsx)("h4",{children:"Registrado Correctamente "}):""]})};var C=function(){return Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/Forms/",children:Object(l.jsx)(O,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/Forms/login",children:Object(l.jsx)(g,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/Forms/Register",children:Object(l.jsx)(N,{})})]})};var w=function(){var e=Object(n.useContext)(j),t=(e.DatesUser,e.User,e.Token),s=e.setToken,r=(e.setUser,e.setDatesUser,Object(o.f)());return Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("User"));s(e)}),[]),Object(l.jsx)("header",{className:"App-header",children:Object(l.jsxs)("ul",{className:"nav nav-pills nav-fill",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.b,{to:"/Forms/",className:"nav-link ","aria-current":"page",children:"Home"})}),null===t&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.b,{to:"/Forms/login",className:"nav-link",children:"Login"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(b.b,{to:"/Forms/Register",className:"nav-link",children:"Register"})})]}),null!=t?Object(l.jsx)("button",{type:"button",onClick:function(){window.localStorage.removeItem("User"),r.push("/Forms/login"),window.location.reload("/Forms/login")},className:"btn btn-outline-danger",children:"Cerrar Sesion x"}):""]})})};var y=function(){var e=Object(n.useContext)(j),t=(e.DatesUser,e.User,e.Token);return e.setToken,e.setUser,e.setDatesUser,Object(n.useEffect)((function(){}),[t]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(w,{}),Object(l.jsx)(C,{})]})};var S=function(){return Object(l.jsx)(b.a,{children:Object(l.jsx)(u,{value:!0,children:Object(l.jsx)(y,{})})})};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.85d1a55a.chunk.js.map